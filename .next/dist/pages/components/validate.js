'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var validate = function validate(values) {
  var errors = {};
  var minLength = function minLength(min) {
    return function (value) {
      return value && value.length < min ? 'Must be ' + min + ' characters or more' : undefined;
    };
  };
  var minLength6 = minLength(6);
  var dateNow = new Date();
  var newDate = dateNow.getFullYear();

  function isNumeric(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
  }

  var dateOfBirth = values.DD + '/' + values.MM + '/' + values.YYYY;
  // console.log('dateOfBirth', isValidDate(dateOfBirth));

  function isValidDate(str) {
    var d = (0, _moment2.default)(str, 'D/M/YYYY');
    if (d == null || !d.isValid()) return false;

    return str.indexOf(d.format('D/M/YYYY')) >= 0 || str.indexOf(d.format('DD/MM/YYYY')) >= 0 || str.indexOf(d.format('D/M/YY')) >= 0 || str.indexOf(d.format('DD/MM/YY')) >= 0;
  }

  if (!values.email) {
    errors.email = 'EMAIL IS REQUIRED';
  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(values.email)) {
    errors.email = 'INVALID EMAIL ADDRESS';
  }
  if (!values.password) {
    errors.password = 'PASSWORD IS REQUIRED';
  } else if (minLength6(values.password)) {
    errors.password = 'PASSWORD IS TOO SHORT';
  }
  if (!values.confirmPassword || values.confirmPassword !== values.password) {
    errors.confirmPassword = 'PASSWORD DO NOT MATCH';
  }
  if (!values.DD || !values.MM || !values.YYYY) {
    errors.dateOfBirth = 'DATE OF BIRTH IS REQUIRED';
    //errors.MM = 'DATE OF BIRTH IS REQUIRED'
    //errors.YYYY = 'DATE OF BIRTH IS REQUIRED'
  } else if (values.DD > 31 || !isNumeric(values.DD)) {
    errors.dateOfBirth = 'ENTER CORRECT DAY OF BIRTH';
  } else if (values.MM > 12 || !isNumeric(values.MM)) {
    errors.dateOfBirth = 'ENTER CORRECT MONTH OF BIRTH';
  } else if (!isNumeric(values.YYYY)) {
    errors.dateOfBirth = 'SHOULD BE NUMBER';
  } else if (newDate - values.YYYY <= 18) {
    errors.dateOfBirth = 'YOU ARE TOO YOUNG';
  } else if (newDate - values.YYYY >= 100) {
    errors.dateOfBirth = 'YOU ARE TOO OLD';
  } else if (!isValidDate(dateOfBirth)) {
    errors.dateOfBirth = 'INVALID DATE';
  }
  if (!values.gender) {
    errors.gender = 'GENDER IS REQUIRED';
  }
  if (!values.select) {
    errors.select = 'SELECT SOME ANSWER';
  }
  return errors;
};

exports.default = validate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VzXFxjb21wb25lbnRzXFx2YWxpZGF0ZS5qcyJdLCJuYW1lcyI6WyJtb21lbnQiLCJ2YWxpZGF0ZSIsImVycm9ycyIsIm1pbkxlbmd0aCIsInZhbHVlIiwibGVuZ3RoIiwibWluIiwidW5kZWZpbmVkIiwibWluTGVuZ3RoNiIsImRhdGVOb3ciLCJEYXRlIiwibmV3RGF0ZSIsImdldEZ1bGxZZWFyIiwiaXNOdW1lcmljIiwibiIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiZGF0ZU9mQmlydGgiLCJ2YWx1ZXMiLCJERCIsIk1NIiwiWVlZWSIsImlzVmFsaWREYXRlIiwic3RyIiwiZCIsImlzVmFsaWQiLCJpbmRleE9mIiwiZm9ybWF0IiwiZW1haWwiLCJ0ZXN0IiwicGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJnZW5kZXIiLCJzZWxlY3QiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLEFBQU87Ozs7OztBQUVQLElBQU0sV0FBVyxTQUFYLEFBQVcsaUJBQVUsQUFDekI7TUFBTSxTQUFOLEFBQWUsQUFDZjtNQUFNLFlBQVksU0FBWixBQUFZLGVBQUE7V0FBTyxpQkFBQTthQUN2QixTQUFTLE1BQUEsQUFBTSxTQUFmLEFBQXdCLG1CQUF4QixBQUF5Qyw4QkFEbEIsQUFDNkM7QUFEcEQ7QUFBbEIsQUFFQTtNQUFNLGFBQWEsVUFBbkIsQUFBbUIsQUFBVSxBQUM3QjtNQUFNLFVBQVUsSUFBaEIsQUFBZ0IsQUFBSSxBQUNwQjtNQUFNLFVBQVUsUUFBaEIsQUFBZ0IsQUFBUSxBQUV4Qjs7V0FBQSxBQUFTLFVBQVQsQUFBbUIsR0FBRyxBQUNwQjtXQUFPLENBQUMsTUFBTSxXQUFQLEFBQUMsQUFBTSxBQUFXLE9BQU8sU0FBaEMsQUFBZ0MsQUFBUyxBQUMxQztBQUVEOztNQUFNLGNBQWMsT0FBQSxBQUFPLEtBQVAsQUFBWSxNQUFNLE9BQWxCLEFBQXlCLEtBQXpCLEFBQThCLE1BQU0sT0FBeEQsQUFBK0QsQUFDL0Q7QUFFQTs7V0FBQSxBQUFTLFlBQVQsQUFBcUIsS0FBSyxBQUN4QjtRQUFJLElBQUksc0JBQUEsQUFBTyxLQUFmLEFBQVEsQUFBVyxBQUNuQjtRQUFHLEtBQUEsQUFBSyxRQUFRLENBQUMsRUFBakIsQUFBaUIsQUFBRSxXQUFXLE9BQUEsQUFBTyxBQUVyQzs7V0FBTyxJQUFBLEFBQUksUUFBUSxFQUFBLEFBQUUsT0FBZCxBQUFZLEFBQVMsZ0JBQXJCLEFBQXFDLEtBQ3ZDLElBQUEsQUFBSSxRQUFRLEVBQUEsQUFBRSxPQUFkLEFBQVksQUFBUyxrQkFEbkIsQUFDcUMsS0FDdkMsSUFBQSxBQUFJLFFBQVEsRUFBQSxBQUFFLE9BQWQsQUFBWSxBQUFTLGNBRm5CLEFBRWlDLEtBQ25DLElBQUEsQUFBSSxRQUFRLEVBQUEsQUFBRSxPQUFkLEFBQVksQUFBUyxnQkFIMUIsQUFHMEMsQUFDM0M7QUFFRDs7TUFBSSxDQUFDLE9BQUwsQUFBWSxPQUFPLEFBQ2pCO1dBQUEsQUFBTyxRQUFQLEFBQWUsQUFDaEI7QUFGRCxTQUVPLElBQUksQ0FBQyw0Q0FBQSxBQUE0QyxLQUFLLE9BQXRELEFBQUssQUFBd0QsUUFBUSxBQUMxRTtXQUFBLEFBQU8sUUFBUCxBQUFlLEFBQ2hCO0FBQ0Q7TUFBSSxDQUFDLE9BQUwsQUFBWSxVQUFVLEFBQ3BCO1dBQUEsQUFBTyxXQUFQLEFBQWtCLEFBQ25CO0FBRkQsU0FFTyxJQUFJLFdBQVcsT0FBZixBQUFJLEFBQWtCLFdBQVcsQUFDdEM7V0FBQSxBQUFPLFdBQVAsQUFBa0IsQUFDbkI7QUFDRDtNQUFJLENBQUMsT0FBRCxBQUFRLG1CQUFtQixPQUFBLEFBQU8sb0JBQW9CLE9BQTFELEFBQWlFLFVBQVUsQUFDekU7V0FBQSxBQUFPLGtCQUFQLEFBQXlCLEFBQzFCO0FBQ0Q7TUFBSSxDQUFDLE9BQUQsQUFBUSxNQUFNLENBQUMsT0FBZixBQUFzQixNQUFNLENBQUMsT0FBakMsQUFBd0MsTUFBTSxBQUM1QztXQUFBLEFBQU8sY0FBUCxBQUFxQixBQUNyQjtBQUNBO0FBQ0Q7QUFKRCxhQUlXLE9BQUEsQUFBTyxLQUFQLEFBQVksTUFBTSxDQUFDLFVBQVUsT0FBakMsQUFBdUIsQUFBaUIsS0FBSyxBQUNsRDtXQUFBLEFBQU8sY0FBUCxBQUFxQixBQUN0QjtBQUZNLEdBQUEsVUFFSSxPQUFBLEFBQU8sS0FBUCxBQUFZLE1BQU0sQ0FBQyxVQUFVLE9BQWpDLEFBQXVCLEFBQWlCLEtBQUssQUFDbEQ7V0FBQSxBQUFPLGNBQVAsQUFBcUIsQUFDdEI7QUFGTSxHQUFBLFVBRUksQ0FBQyxVQUFVLE9BQWYsQUFBSyxBQUFpQixPQUFPLEFBQ2xDO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3RCO0FBRk0sR0FBQSxVQUVLLFVBQVUsT0FBWCxBQUFrQixRQUF0QixBQUErQixJQUFJLEFBQ3hDO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3RCO0FBRk0sR0FBQSxVQUVLLFVBQVUsT0FBWCxBQUFrQixRQUF0QixBQUErQixLQUFLLEFBQ3pDO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3RCO0FBRk0sR0FBQSxNQUdGLElBQUksQ0FBQyxZQUFMLEFBQUssQUFBWSxjQUFjLEFBQ2xDO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3RCO0FBQ0Q7TUFBSSxDQUFDLE9BQUwsQUFBWSxRQUFRLEFBQ2xCO1dBQUEsQUFBTyxTQUFQLEFBQWdCLEFBQ2pCO0FBQ0Q7TUFBSSxDQUFDLE9BQUwsQUFBWSxRQUFRLEFBQ2xCO1dBQUEsQUFBTyxTQUFQLEFBQWdCLEFBQ2pCO0FBQ0Q7U0FBQSxBQUFPLEFBQ1I7QUEvREQsQUFpRUE7O2tCQUFBLEFBQWUiLCJmaWxlIjoidmFsaWRhdGUuanMiLCJzb3VyY2VSb290IjoiRDovUHJvamVjdHMvU3Rhck9mU2VydmljZS1yZWFjdC5qcyJ9