'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var validate = function validate(values) {
  var errors = {};
  var minLength = function minLength(min) {
    return function (value) {
      return value && value.length < min ? 'Must be ' + min + ' characters or more' : undefined;
    };
  };
  var minLength6 = minLength(6);
  var dateNow = new Date();
  var newDate = dateNow.getFullYear();

  function isNumeric(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
  }

  var dateOfBirth = values.DD + '/' + values.MM + '/' + values.YYYY;
  // console.log('dateOfBirth', isValidDate(dateOfBirth));

  function isValidDate(str) {
    var d = (0, _moment2.default)(str, 'D/M/YYYY');
    if (d == null || !d.isValid()) return false;

    return str.indexOf(d.format('D/M/YYYY')) >= 0 || str.indexOf(d.format('DD/MM/YYYY')) >= 0 || str.indexOf(d.format('D/M/YY')) >= 0 || str.indexOf(d.format('DD/MM/YY')) >= 0;
  }

  if (!values.email) {
    errors.email = 'EMAIL IS REQUIRED';
  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(values.email)) {
    errors.email = 'INVALID EMAIL ADDRESS';
  }
  if (!values.password) {
    errors.password = 'PASSWORD IS REQUIRED';
  } else if (minLength6(values.password)) {
    errors.password = 'PASSWORD IS TOO SHORT';
  }
  if (!values.confirmPassword || values.confirmPassword !== values.password) {
    errors.confirmPassword = 'PASSWORD DO NOT MATCH';
  }
  if (!values.DD || !values.MM || !values.YYYY) {
    errors.dateOfBirth = 'DATE OF BIRTH IS REQUIRED';
    //errors.MM = 'DATE OF BIRTH IS REQUIRED'
    //errors.YYYY = 'DATE OF BIRTH IS REQUIRED'
  } else if (values.DD > 31 || !isNumeric(values.DD)) {
    errors.dateOfBirth = 'ENTER CORRECT DAY OF BIRTH';
  } else if (values.MM > 12 || !isNumeric(values.MM)) {
    errors.dateOfBirth = 'ENTER CORRECT MONTH OF BIRTH';
  } else if (!isNumeric(values.YYYY)) {
    errors.dateOfBirth = 'SHOULD BE NUMBER';
  } else if (newDate - values.YYYY <= 18) {
    errors.dateOfBirth = 'YOU ARE TOO YOUNG';
  } else if (newDate - values.YYYY >= 100) {
    errors.dateOfBirth = 'YOU ARE TOO OLD';
  } else if (!isValidDate(dateOfBirth)) {
    errors.dateOfBirth = 'INVALID DATE';
  }
  if (!values.gender) {
    errors.gender = 'GENDER IS REQUIRED';
  }
  if (!values.select) {
    errors.select = 'SELECT SOME ANSWER';
  }
  return errors;
};

exports.default = validate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHNcXHZhbGlkYXRlLmpzIl0sIm5hbWVzIjpbIm1vbWVudCIsInZhbGlkYXRlIiwiZXJyb3JzIiwibWluTGVuZ3RoIiwidmFsdWUiLCJsZW5ndGgiLCJtaW4iLCJ1bmRlZmluZWQiLCJtaW5MZW5ndGg2IiwiZGF0ZU5vdyIsIkRhdGUiLCJuZXdEYXRlIiwiZ2V0RnVsbFllYXIiLCJpc051bWVyaWMiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJkYXRlT2ZCaXJ0aCIsInZhbHVlcyIsIkREIiwiTU0iLCJZWVlZIiwiaXNWYWxpZERhdGUiLCJzdHIiLCJkIiwiaXNWYWxpZCIsImluZGV4T2YiLCJmb3JtYXQiLCJlbWFpbCIsInRlc3QiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImdlbmRlciIsInNlbGVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsQUFBTzs7Ozs7O0FBRVAsSUFBTSxXQUFXLFNBQVgsQUFBVyxpQkFBVSxBQUN6QjtNQUFNLFNBQU4sQUFBZSxBQUNmO01BQU0sWUFBWSxTQUFaLEFBQVksZUFBQTtXQUFPLGlCQUFBO2FBQ3ZCLFNBQVMsTUFBQSxBQUFNLFNBQWYsQUFBd0IsbUJBQXhCLEFBQXlDLDhCQURsQixBQUM2QztBQURwRDtBQUFsQixBQUVBO01BQU0sYUFBYSxVQUFuQixBQUFtQixBQUFVLEFBQzdCO01BQU0sVUFBVSxJQUFoQixBQUFnQixBQUFJLEFBQ3BCO01BQU0sVUFBVSxRQUFoQixBQUFnQixBQUFRLEFBRXhCOztXQUFBLEFBQVMsVUFBVCxBQUFtQixHQUFHLEFBQ3BCO1dBQU8sQ0FBQyxNQUFNLFdBQVAsQUFBQyxBQUFNLEFBQVcsT0FBTyxTQUFoQyxBQUFnQyxBQUFTLEFBQzFDO0FBRUQ7O01BQU0sY0FBYyxPQUFBLEFBQU8sS0FBUCxBQUFZLE1BQU0sT0FBbEIsQUFBeUIsS0FBekIsQUFBOEIsTUFBTSxPQUF4RCxBQUErRCxBQUMvRDtBQUVBOztXQUFBLEFBQVMsWUFBVCxBQUFxQixLQUFLLEFBQ3hCO1FBQUksSUFBSSxzQkFBQSxBQUFPLEtBQWYsQUFBUSxBQUFXLEFBQ25CO1FBQUcsS0FBQSxBQUFLLFFBQVEsQ0FBQyxFQUFqQixBQUFpQixBQUFFLFdBQVcsT0FBQSxBQUFPLEFBRXJDOztXQUFPLElBQUEsQUFBSSxRQUFRLEVBQUEsQUFBRSxPQUFkLEFBQVksQUFBUyxnQkFBckIsQUFBcUMsS0FDdkMsSUFBQSxBQUFJLFFBQVEsRUFBQSxBQUFFLE9BQWQsQUFBWSxBQUFTLGtCQURuQixBQUNxQyxLQUN2QyxJQUFBLEFBQUksUUFBUSxFQUFBLEFBQUUsT0FBZCxBQUFZLEFBQVMsY0FGbkIsQUFFaUMsS0FDbkMsSUFBQSxBQUFJLFFBQVEsRUFBQSxBQUFFLE9BQWQsQUFBWSxBQUFTLGdCQUgxQixBQUcwQyxBQUMzQztBQUVEOztNQUFJLENBQUMsT0FBTCxBQUFZLE9BQU8sQUFDakI7V0FBQSxBQUFPLFFBQVAsQUFBZSxBQUNoQjtBQUZELFNBRU8sSUFBSSxDQUFDLDRDQUFBLEFBQTRDLEtBQUssT0FBdEQsQUFBSyxBQUF3RCxRQUFRLEFBQzFFO1dBQUEsQUFBTyxRQUFQLEFBQWUsQUFDaEI7QUFDRDtNQUFJLENBQUMsT0FBTCxBQUFZLFVBQVUsQUFDcEI7V0FBQSxBQUFPLFdBQVAsQUFBa0IsQUFDbkI7QUFGRCxTQUVPLElBQUksV0FBVyxPQUFmLEFBQUksQUFBa0IsV0FBVyxBQUN0QztXQUFBLEFBQU8sV0FBUCxBQUFrQixBQUNuQjtBQUNEO01BQUksQ0FBQyxPQUFELEFBQVEsbUJBQW1CLE9BQUEsQUFBTyxvQkFBb0IsT0FBMUQsQUFBaUUsVUFBVSxBQUN6RTtXQUFBLEFBQU8sa0JBQVAsQUFBeUIsQUFDMUI7QUFDRDtNQUFJLENBQUMsT0FBRCxBQUFRLE1BQU0sQ0FBQyxPQUFmLEFBQXNCLE1BQU0sQ0FBQyxPQUFqQyxBQUF3QyxNQUFNLEFBQzVDO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3JCO0FBQ0E7QUFDRDtBQUpELGFBSVcsT0FBQSxBQUFPLEtBQVAsQUFBWSxNQUFNLENBQUMsVUFBVSxPQUFqQyxBQUF1QixBQUFpQixLQUFLLEFBQ2xEO1dBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3RCO0FBRk0sR0FBQSxVQUVJLE9BQUEsQUFBTyxLQUFQLEFBQVksTUFBTSxDQUFDLFVBQVUsT0FBakMsQUFBdUIsQUFBaUIsS0FBSyxBQUNsRDtXQUFBLEFBQU8sY0FBUCxBQUFxQixBQUN0QjtBQUZNLEdBQUEsVUFFSSxDQUFDLFVBQVUsT0FBZixBQUFLLEFBQWlCLE9BQU8sQUFDbEM7V0FBQSxBQUFPLGNBQVAsQUFBcUIsQUFDdEI7QUFGTSxHQUFBLFVBRUssVUFBVSxPQUFYLEFBQWtCLFFBQXRCLEFBQStCLElBQUksQUFDeEM7V0FBQSxBQUFPLGNBQVAsQUFBcUIsQUFDdEI7QUFGTSxHQUFBLFVBRUssVUFBVSxPQUFYLEFBQWtCLFFBQXRCLEFBQStCLEtBQUssQUFDekM7V0FBQSxBQUFPLGNBQVAsQUFBcUIsQUFDdEI7QUFGTSxHQUFBLE1BR0YsSUFBSSxDQUFDLFlBQUwsQUFBSyxBQUFZLGNBQWMsQUFDbEM7V0FBQSxBQUFPLGNBQVAsQUFBcUIsQUFDdEI7QUFDRDtNQUFJLENBQUMsT0FBTCxBQUFZLFFBQVEsQUFDbEI7V0FBQSxBQUFPLFNBQVAsQUFBZ0IsQUFDakI7QUFDRDtNQUFJLENBQUMsT0FBTCxBQUFZLFFBQVEsQUFDbEI7V0FBQSxBQUFPLFNBQVAsQUFBZ0IsQUFDakI7QUFDRDtTQUFBLEFBQU8sQUFDUjtBQS9ERCxBQWlFQTs7a0JBQUEsQUFBZSIsImZpbGUiOiJ2YWxpZGF0ZS5qcyIsInNvdXJjZVJvb3QiOiJEOi9Qcm9qZWN0cy9TdGFyT2ZTZXJ2aWNlLXJlYWN0LmpzIn0=